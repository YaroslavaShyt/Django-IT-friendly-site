{% extends 'it_friendly/base.html' %}
{% load static %}

{% block title %}Курси{% endblock %}

{% block main %}
  <section class="courses_slide_1">
    <div class="container">
      <h1>IT-friendly education</h1>
      <div class="user-choose">
        <div class="filters">
          <select name="menu">
            <option value="option1">Рівень</option>
            <option value="option2">Beginner</option>
            <option value="option3">Trainee</option>
              <option value="option3">Middle</option>
              <option value="option3">Senior</option>
          </select>
          <select name="menu">
            <option value="option1">Напрям</option>
            <option value="option2">Option 2</option>
            <option value="option3">Option 3</option>
          </select>
          <select name="menu">
            <option value="option1">Зайнятість</option>
            <option value="option2">Option 2</option>
            <option value="option3">Option 3</option>
          </select>
          <select name="menu">
            <option value="option1">Вартість</option>
            <option value="option2">Option 2</option>
            <option value="option3">Option 3</option>
          </select>
        </div>
       <div class="checkboxes">
    <label>
        <input type="checkbox" name="study-type" value="courses">
        Курси
    </label>
    <label>
        <input type="checkbox" name="study-type" value="meetings">
        Офлайн-зустрічі
    </label>
    <label>
        <input type="checkbox" name="study-type" value="mentor-programmes">
        Менторські програми
    </label>
    <label>
        <input type="checkbox" name="study-type" value="webinars">
        Вебінари
    </label>
    <label>
        <input type="checkbox" name="study-type" value="team-projects">
        Командні проекти
    </label>
</div>

</div>
        <button class="search-course" onclick="location.href='{% url 'courses' %}?study-type={{ course_type }}'">Пошук</button>

<script>
    function getSelectedCheckboxes() {
        const checkboxes = document.querySelectorAll('input[name="study-type"]:checked');
        return Array.from(checkboxes).map(cb => cb.value);
    }

    const searchBtn = document.querySelector('.search-course');
    searchBtn.addEventListener('click', function() {
        const selectedCheckboxes = getSelectedCheckboxes();
        const queryParams = new URLSearchParams({
            'study-type': selectedCheckboxes.join(',')
        });
        location.href = `{% url 'courses' %}?${queryParams.toString()}`;
    });
</script>

    </div>
  </section>
  <section class="courses_slide_2">
    <div class="container">
        {% for study in studies %}
            <div class="course-card">
                <p>{{ study.type.title }}</p>
                <img src="{% static study.image %}" alt="">
                <h5 class="name">{{ study.title }}</h5>
                <p>Ціна: {{ study.price }}грн</p>
                <p>Рівень: {{ study.level }}</p>
                <button class="choose-course" data-modal="courseinfo">Детальніше</button>
            </div>
        {% endfor %}
    </div>
  </section>

{% endblock %}
